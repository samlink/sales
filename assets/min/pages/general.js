var code=document.querySelector("#user-code").textContent;let class_theme=document.querySelector("body").className,theme_name=class_theme.split(".")[0];function close_help_modal(help){document.querySelector(".modal").style.display="none",document.querySelector("#modal-sumit-button").style.cssText="",help.removeAttribute("show")}function table_resize(table){var tTD;for(let j=0;j<table.rows[0].cells.length;j++)table.rows[0].cells[j].onmousedown=function(event){tTD=this,event.offsetX>tTD.offsetWidth-10&&(tTD.mouseDown=!0,tTD.oldX=event.x,tTD.oldWidth=tTD.offsetWidth)},table.rows[0].cells[j].onmouseup=function(event){null==tTD&&(tTD=this),tTD.mouseDown=!1,tTD.style.cursor="defalt"},table.rows[0].cells[j].onmousemove=function(event){if(event.offsetX>this.offsetWidth-10?this.style.cursor="col-resize":this.style.cursor="pointer",null==tTD&&(tTD=this),null!=tTD.mouseDown&&1==tTD.mouseDown){for(tTD.style.cursor="pointer",tTD.oldWidth+(event.x-tTD.oldX)>0&&(tTD.width=tTD.oldWidth+(event.x-tTD.oldX)),tTD.style.width=tTD.width,tTD.style.cursor="col-resize",table=tTD;"TABLE"!=table.tagName;)table=table.parentElement;for(j=0;j<table.rows.length;j++)table.rows[j].cells[tTD.cellIndex].width=tTD.width}}}document.querySelector("#help-info img").setAttribute("src",`/${code}/assets/img/${theme_name}.png`),document.querySelector("#logo img").setAttribute("src",`/${code}/assets/img/logo_${theme_name}.png`),document.styleSheets[0].insertRule(`#tree .item::before{content:url("/${code}/assets/img/folder_${theme_name}.png")}`,document.styleSheets[0].cssRules.length),document.styleSheets[0].insertRule(`#tree .item-down::before{content:url("/${code}/assets/img/folder_${theme_name}2.png")}`,document.styleSheets[0].cssRules.length),String.prototype.trim=function(char,type){return char?"left"==type?this.replace(new RegExp("^\\"+char+"+","g"),""):"right"==type?this.replace(new RegExp("\\"+char+"+$","g"),""):this.replace(new RegExp("^\\"+char+"+|\\"+char+"+$","g"),""):this.replace(/^\s+|\s+$/g,"")},Date.prototype.Format=function(fmt){var o={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var k in/(y+)/.test(fmt)&&(fmt=fmt.replace(RegExp.$1,this.getFullYear()+"")),o)new RegExp("("+k+")").test(fmt)&&(fmt=fmt.replace(RegExp.$1,1==RegExp.$1.length?o[k]:("00"+o[k]).substr((""+o[k]).length)));return fmt},document.querySelector("#help-info").addEventListener("click",(function(){this.setAttribute("show","on");let name=document.querySelector(".top-title .t1").textContent.trim();fetch(`/${code}/fetch_help`,{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify(name)}).then((response=>response.json())).then((data=>{if(-1!=data){let html="<ol>";for(let info of data)html+=`<li>${info}</li>`;html+="</ol>",document.querySelector(".modal-body").innerHTML=html,document.querySelector(".modal-title").textContent="帮助信息",document.querySelector(".modal-dialog").style.cssText="max-width: 600px;",document.querySelector("#modal-sumit-button").style.cssText="display: none;",document.querySelector(".modal").style.display="block"}}))})),document.querySelector("#modal-close-button").addEventListener("click",(function(){let help=document.querySelector("#help-info");help.hasAttribute("show")&&close_help_modal(help)})),document.querySelector(".top-close").addEventListener("click",(function(){let help=document.querySelector("#help-info");help.hasAttribute("show")&&close_help_modal(help)})),document.addEventListener("keydown",(function(event){let help=document.querySelector("#help-info");event&&"Escape"==event.key&&help.hasAttribute("show")&&close_help_modal(help)})),document.addEventListener("click",(function(event){let help=document.querySelector("#help-info");event&&"for-click-close"==event.target.id&&help.hasAttribute("show")&&close_help_modal(help)}));